<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <link href="/resources/main.css" rel="stylesheet">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Пример веб-страницы</title>
</head>
<body>
<center><h1 class="ribbon"><strong class="ribbon-content">Список студентов</strong></h1></center>

    <a href="/login" target="_blank" class="great_btn">
      <right> <button>Вход для преподавателя</button></right>
    </a>

<center><table id="all-student-table" class="features-table">
    <tr>
        <th>Имя и Фамилия студента</th>
        <th>Количество баллов</th>
        <th>Количество пропусков по уважительной причине</th>
        <th>Количество пропусков по неуважительной причине</th>
    </tr>
</table></center>

<script type="text/javascript">
    var x = new XMLHttpRequest();
    x.open("GET", "/student/all", true);
    x.onload = function (){
        var parsedStudents = JSON.parse(this.responseText);
        var studentsTable = document.getElementById('all-student-table');
        parsedStudents.forEach(function(item)  {
            var fullNameElement = document.createElement('td');
            fullNameElement.innerHTML = '<p>' + item['fullName'] + '</p>';
            var estimateElement = document.createElement('td');
            estimateElement.innerHTML = '<p>' + item['estimate'] + '</p>';
            var elementContainer = document.createElement('tr');
            elementContainer.appendChild(fullNameElement);
            elementContainer.appendChild(estimateElement);
            studentsTable.appendChild(elementContainer);
        });
    }
    x.send(null);
</script>

</body>
</html>